<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<title>Virtual Domains</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<script src="../jquery-1.5.1.min.js" type="text/javascript"></script>
<script src="../easyTooltip.js" type="text/javascript"></script>
<script src="../navi.js" type="text/javascript"></script>
<link rel="stylesheet" type="text/css" href="../help.css" />

</head>
<body>
<div id="sidebar">
<strong>Inhalt</strong>
<ul id="contentmenu"> 

    <li><a class="active" href="#00-Wiki">Beschreibung</a></li>

    <li><a href="#01-04-Mccoy-features">Neue Features</a></li>

    <li><a href="#02-04-Mccoy-requierements">Anforderungen</a></li>

	<li><a href="#02-05-Mccoy-domains">Domains Setup</a></li>

    <li><a href="#03-04-Mccoy-installation">Installation</a></li>

    <li><a href="#04-04-Mccoy-configuration">Backend Handbuch</a>
	<ul class="submenu">
	    <li><a href="#Virtualdomains-Manager">Virtualdomains Manager</a></li>
            <li><a href="#Details-Page">Domain Detailseite</a></li>
            <li><a href="#Parameters-Manager">Parameter Manager</a></li>	
            <li><a href="#About">About</a></li>
            <li><a href="#Component-Configuration">Komponentenkonfiguration</a></li>
            <li><a href="#Plugin">Plugin</a></li>
	</ul>
    </li>

    <li><a href="#05-04-Mccoy-quickanddirty">Quick'nDirty</a></li>

    <li><a href="#06-04-Mccoy-restrictions">Einschränkungen</a></li>
      <li><a href="#Appendix">Anhang</a>
      <ul class="submenu">
      			<li><a href="#Setup-a-Test-Environment-under-Windows">Testumgebung unter Windows</a></li>
      			<li><a href="#Setup-a-Test-Environment-under-Linux-DebianUbuntu">Testumgebung unter Linux (Debian/Ubuntu)</a></li>
      </ul>
      </li>

</ul>
</div>
<div id="content">
<hr />
<a name="00-Wiki" />

<div class="chapter" id="00-Wiki">
<h1>Beschreibung<a href="#Wiki" class="wiki-anchor">&para;</a></h1>

<p>Mit einer einzigen Joomla-Installation unterschiedliche Webseiten mit jeweils eigenständigem Design und Startseiteninhalt, und eigenständiger  Menustruktur betreiben.</p>

	<p>Virtual Domains macht Joomla multidomainfähig und nimmt dabei keine Änderungen am Joomla Core und an den Datenbanken vor. Mit wenigen Klicks  trägst du beliebig viele verfügbare Domains im Backend der Komponente ein und weist ihnen Eigenschaften zu.</p>

	<p>Es ist empfehlenswert, für jede Subdomain/Domain ein eigenes Template zu installieren.</p>


	<p><strong>Aktuelle Version: 1.1-McCoy </strong></p>
<hr />
</div>
<div class="chapter" id="01-04-Mccoy-features">
<a name="01-04-Mccoy-features" />

<h1>Neue Features<a href="#04-Mccoy-Features" class="wiki-anchor">&para;</a></h1>


	<h2 id="Features-in-component">Features der Komponente<a href="#Features-in-component" class="wiki-anchor">&para;</a></h2>

	<ul>
		<li>Template Style pro Domain konfigurieren</li>
	</ul>
	
	<ul>
		<li>Content über Accesslevels einzelnen Domains zuweisen</li>
	</ul>

	<ul>
	<li>Menüpunkte je Domain verbergen/anzeigen</li>
	</ul>

<hr />
</div>
<div  class="chapter" id="02-04-Mccoy-requierements">

<a name="02-04-Mccoy-requierements" />
<h1>Anforderungen (1.1-McCoy)<a href="#Requirements-04-Mccoy" class="wiki-anchor">&para;</a></h1>


	<ol>
	<li>Joomla 1.6 oder höher</li>
		<li>PHP 5.2.0 oder höher</li>
		<li>Eine oder mehrere Serveraliase deiner Domain<br /> oder<br />  Zwei oder mehrere Virtuelle Hosts, die auf die gleich Document Root zeigen

	<p><strong>Anmerkung</strong>: <em>Weiterleitungen per Rewite-Rule in einer .htaccess führen nicht zum gewünschten Ergebnis.</em></p></li>
	</ol>


	<p>Mehr über  <a id="a-ServerAliases" href="#ServerAliases" class="wiki-page">Server Aliase</a></p>

<hr />
</div>
<div class="chapter" id="02-05-Mccoy-domains">
<a name="02-05-Mccoy-domains" />
	<h1>Domains Setup </h1>
	<p>Damit VD funktionieren kann musst du bei der Einrichtung deiner zusätzlichen Domains folgende Regeln beachten:</p>
	<p>
		<ol>
			<li><strong>Gleicher Server:</strong><br />
			<p>Alle Domains müssen auf dem selben Server liegen und unter gleicher IP-Adresse erreichbar sein</p>	
			</li>
			<li><strong>Gleicher Ordner:</strong><br />
			<p>Der Webserver muss für alle Domains auf den gleichen Ordner zeigen, den Ordner in dem dein Joomla installiert ist</p>
			</li>
			<li><strong>Keine Umleitung</strong><br />
			<p>Es darf keine Umleitung wie z.B. per .htaccess oder eine Frameumleitung verwendet werden.</p>	
			</li>
		</ol>
	</p>
	<p>Es ist nahezu unmöglich ein konkretes Vorgehen zu beschreiben, da es eine Vielzahl unterschiedlicher Administrationstools für Webhosting gibt. Auch die Bezeichnungen unterscheiden sich. Häufig wird der Begriff Addon-Domain für die benötigte Konfiguration der Domains verwendet.</p>
	<p>Zur Veranschaulichung des zu erzielenden Ergebnisses dient die folgende Grafik.</p>
	<p><strong><i>Hintergrund:</i></strong>
		Ein Webserver verwendet sogenannte Virtual Host Container. Das sind einfache Textdateien, die die Konfiguration einer Domain beschreiben. Eine der wichtigsten Einstellungen ist der Ordner deiner Webseite. 
		In vielen Fällen hat jede Domain ihren eigenen Ordner. Für unser Ziel ist es jedoch nötig, das alle Domains den selben Ordner verwenden. Wir benötigen also nur einen einzigen Virtual Host Container, in dem die zusätzlichen Domains als "ServerAlias" aufgelistet sind. 
	</p>
	<img src="images/redirection.png" />
</div>
<div class="chapter" id="03-04-Mccoy-installation">
<a name="03-04-Mccoy-installation" />
<h1>Installation<a href="#Installation-04-Checkov" class="wiki-anchor">&para;</a></h1>


	<ol>
	<li>Lade das VD-Paket für deine Joomla-Version von der <a href="http://redmine.janguo.de/projects/vd-main/files">Projektseite</a> herunter </li>
		<li>Wähle im Joomla-Backend <em>Erweiterungen⇒Installieren/Deinstallieren</em> bzw. <em>Erweiterungen⇒Erweiterungsmanager</em>, klicke auf Hochladen, wähle das Paket aus deinem Download-Ordner und klicke auf <strong>Hochladen&#38;Installieren</strong>. <br />  Das Paket wird installiert und die Systemmeldung "Paket-Installation erfolgreich" wird angezeigt.</li>
		<li>Wähle <em>Erweiterungen⇒Plugin-Manager</em>, filtere nach System Plugins und klicke auf den Titel der Spalte <strong>Reihenfolge</strong>, gib in der Zeile <strong>System - virtualdomains</strong>im Feld Reihenfolge die Ziffer <strong>1</strong>ein, um das das Plugin als erstes zu laden. Dies ist notwendig, damit das Routen korrekt funktioniert.</li>
		<li>Klicke auf <strong>Status</strong>, um das Plugin zu aktivieren.</li>		
	</ol>


</p>


	<p>Du kannst nun deine Domains/Subdomains konfigurieren.  (<em>Komponenten⇒Virtualdomains</em>)</p>

<hr />
</div>
<div class="chapter" id="04-04-Mccoy-configuration">
<a name="04-04-Mccoy-configuration" />
<h1>Backend Handbuch (1.2-McCoy)<a href="#Backend-Overview-04-Mccoy" class="wiki-anchor">&para;</a></h1>

	<p><strong>Virtual Domains Menü</strong></p>


	<table>
		<tr>
			<td><a href="#Virtualdomains-Manager" class="wiki-page">Virtualdomains</a></td>
			<td><a href="#Parameters-Manager" class="wiki-page">Parameter</a></td>
			<td><a href="#About" class="wiki-page">About</a></td>
		</tr>
	</table>




	<h2 id="Virtualdomains-Manager">Virtualdomains-Manager<a href="#Virtualdomains-Manager" class="wiki-anchor">&para;</a></h2>


	<h3 id="Manager-Description">Beschreibung<a href="#Manager-Description" class="wiki-anchor">&para;</a></h3>


	<p>Du kannst hier neue Domains eintragen und bereits angelegte Domains in der Vorschau anzeigen.</p>


	<h3 id="Screenshot">Screenshot<a href="#Screenshot" class="wiki-anchor">&para;</a></h3>


	<p><a class="thumb" href="images/vd-screen-4.jpg"><img src="images/67.jpg" /></a>
</p>


	<h3 id="Toolbar">Toolbar<a href="#Toolbar" class="wiki-anchor">&para;</a></h3>


	<p><img src="VD_manager_toolbar.jpg" alt="" /></p>


	<ul>
	<li><strong>Bearbeiten/Neu</strong>: Bearbeite Domains auf der <a href="#Details-Page" class="wiki-page">Detail-Seite</a>  oder füge neue Domains hinzu</li>
		<li><strong>Konfiguration</strong>: <a href="#Component-Configuration">Komponenten Konfiguration</a></li>
	</ul>


	<h3 id="Columns">Spalten<a href="#Columns" class="wiki-anchor">&para;</a></h3>


	<ul>
	<li><strong>Domain</strong>: Klicke auf den Link um eine Domain auf der <a href="#Details-Page" class="wiki-page">Detailseite</a> zu bearbeiten</li>
		<li><strong>Vorschau</strong>:Zeige die Domain im Vorschau-Frame an und teste ob alles wie gewünscht funktioniert. (Du kannst Höhe und Breite in der  <a href="#Component-Configuration">Komponenten-Konfiguration </a>an die Einstellungen deines Monitors anpassen)</li>
	<li><strong>Default Domain (wichtig! Nicht optional))</strong>: Klicke auf das Stern-Symbol, um die Domain als Default-Domain zu kennzeichnen. Diese Domain übernimmt ihre Eigenschaften aus der allgemeinen Joomla Konfiguration.</li>
	</ul>


	<h2 id="Details-Page">Detail-Seite<a href="#Details-Page" class="wiki-anchor">&para;</a></h2>


	<h3 id="Details-Description">Beschreibung<a href="#Details-Description" class="wiki-anchor">&para;</a></h3>


	<p>Du kannst hier die Eigenschaften einer Domain festlegen.</p>


	<h3 id="Details-Screenshot">Screenshot<a href="#Details-Screenshot" class="wiki-anchor">&para;</a></h3>


	<p><a class="thumb" href="images/vd-details.jpg"><img src="images/vd-details.jpg" /></a>
</p>


	<h3 id="Details-Fields">Felder<a href="#Details-Fields" class="wiki-anchor">&para;</a></h3>


	<ul>
	<li><strong>Domain Name</strong>: Der Name einer Domain/Subdomain (FQDN) die auf deine Joomla-Installation gerichtet ist. Beachte, dass VD den www-Alias deiner Domains automatisch berücksichtigt. Gib hier also nicht www.mydomain.com ein, wenn der Name deiner Standard-Domain mydomain.com lautet.</li>
	</ul>


	<ul>
	<li><strong>Home Menüpunkt</strong>: Dies wird die Starseite der Domain, ungeachtet der Einstellungen in der Joomla Konfiguration.</li>
	</ul>


	<ul>
	<li><strong>Template</strong>: Definiere ein Template Style für diese Domain.</li>
	</ul>

	<ul>
	<li><strong>Freigabe</strong>: Domain wird verwendet.</li>
	</ul>

	<ul>
	<li><strong>Home Menüpunkt Übersetzung</strong>: Wenn deine Seite mehrsprachig ist, kannst du hier optional eine nur in dieser Domain gültige Übersetzung des Start-Menüpunkts eingeben.</li>
	</ul>


	<ul>
	<li><strong>Menüfilter</strong>: Wähle optional Menüpunkte, die in dieser Domain angezeigt/nicht angezeigt werden sollen.</li>
	</ul>

	<ul>
	<li><strong>Vererbung von Zugriffsebenen</strong>: Wähle optional eine oder mehrere Domains, deren Zugriffsrechte die aktuell bearbeitete Domain erben soll.<br />Hinweis: Jede Domain wird einer gleichnamigen Zugriffsebene zugeordnet. Dies ermöglicht z.B. Kategorien, Module oder andere Inhalte nur in bestimmten Domains verfügbar zu machen. </li>
	</ul>
	<h3 id="Parameters">Parameter<a href="#Parameters" class="wiki-anchor">&para;</a></h3>
	<p><a class="thumb" href="images/vd-params.jpg"><img src="images/vd-params.jpg" /></a>

	<ul>
	<li><strong>Template Styles</strong>: Bestimmt das Template-Style-Verhalten dieser Domain. Es können folgende Werte definiert werden.
		<ul>
			<li><strong>Globale Einstellung:</strong> Die Einstellung in den Optionen der Komponente wird verwendet</li>
			<li><strong>VD überschreibt Joomla:</strong> Es wird immer der für diese Domain definierte Template-Style angezeigt.</li>
			<li><strong>VD überschreibt den Startmenupunkt:</strong> Nur die Startseite dieser Domain wird im definierten Template-Style angezeigt.</li>
			<li><strong>Joomlakonfiguration verwenden:</strong> Es wird in allen Fällen der in der Joomla-Konfiguration definierte Template-Style angezeigt.</li>
		</ul>
	</li>
	</ul>
	
	<ul>
	<li><strong>Meta Description</strong>: Eine alternative Meta Description im Kopf des HTMl-Dokuments.</li>
	</ul>


	<ul>
	<li><strong>Keywords</strong>: Alternative Keywords im Kopf des HTMl-Dokuments.</li>
	</ul>


	<ul>
	<li><strong>Custom Parameters</strong>: Erfasse die Werte für Parameter, die du im <a href="#Parameters-Manager" >Parametermanager</a>von VD konfiguriert hast .</li>
	</ul>


	<h2 id="Parameters-Manager">Parameter Manager<a href="#Parameters-Manager" class="wiki-anchor">&para;</a></h2>


	<h3 id="Parameters-Description">Beschreibung<a href="#Parameters-Description" class="wiki-anchor">&para;</a></h3>


	<p>Eigene Parameter können von Programmierern für Domain-spezifische Anpassungen genutzt werden. Hier kannst du Parameter-Keys festlegen. Wenn du Parameter gespeichert hast, werden Sie auf der Domain  <a href="#Details-Page" class="wiki-page">Detail-Seite</a> angezeigt,
auf der du unterschiedliche Werte für jede Domain definieren kannst.</p>


	<p>Schlüssel und Werte werden zu den Variablen $_REQUEST oder $GLOBALS hinzugefügt.</p>


         <h3><a id="a-Whats-all-this-in-aid-of" href="#Whats-all-this-in-aid-of">Was zum Teufel soll ich damit anfangen?</a></h3>


	<h3 id="Parameters-Screenshot">Screenshot<a href="#Parameters-Screenshot" class="wiki-anchor">&para;</a></h3>


	<p><a class="thumb" href="images/vd-screen-3.jpg"><img src="images/79.jpg" /></a>
</p>


	<h3 id="Fields">Fields<a href="#Fields" class="wiki-anchor">&para;</a></h3>


	<ul>
	<li><strong>Name</strong>: Parameter Key</li>
		<li><strong>Aktion</strong>: 
	<ul>
	<li><strong>Keine</strong>:Der Parameter wird nicht zu $GLOBALS oder $_REQUEST hinzugefügt (z.B., weil die Werte aus der Datenbank gelesen werden)</li>
		<li><strong>Request</strong>: Zu $_REQUEST hinzufügen</li>
		<li><strong>Globals</strong>: Zu $GLOBALS hinzufügen</li>
	</ul>
	</li>
		<li><strong>Nur Startseite</strong>: Der Parameter wird nur beim Aufruf der Startseite genutzt.</li>
	</ul>


	<h2 id="About">About<a href="#About" class="wiki-anchor">&para;</a></h2>


	<h3 id="About-Description">Beschreibung<a href="#About-Description" class="wiki-anchor">&para;</a></h3>


	<p>Informationen über die Entwickler und den Support</p>


	<h2 id="Component-Configuration">Komponenten-Konfiguration<a href="#Component-Configuration" class="wiki-anchor">&para;</a></h2>


	<h3 id="How-to-Access">Zugang<a href="#How-to-Access" class="wiki-anchor">&para;</a></h3>


	<p>Wähle Komponenten → Virtualdomains vom Drop-Down-Menu des Joomla-Admin-Panels und klicke anschließend auf den Konfiguration/Einstellungen Button der <a href="#Toolbar" >Toolbar</a>.</p>


	<p><img src="toolbar.jpg" alt="" /> <img src="options.jpg" alt="" /></p>


	<h3 id="Configuration-Description">Beschreibung<a href="#Configuration-Description" class="wiki-anchor">&para;</a></h3>


	<p>Hier kannst du das globale Verhalten in bezug auf Template-Styles und die Größe des Domain-Vorschau-Frames einstellen.</p>


	<h3 id="Configuration-Screenshot">Screenshot<a href="#Configuration-Screenshot" class="wiki-anchor">&para;</a></h3>


	<p><a class="thumb" href="images/config.jpg"><img src="images/83.jpg" /></a>
</p>
	<h3 id="General-Options">General<a href="#General-Options" class="wiki-anchor">&para;</a></h3>
	<strong>Template Styles</strong>: Bestimmt das Template-Style-Verhalten dieser Domain. Es können folgende Werte definiert werden.
		<ul>
			<li><strong>Globale Einstellung:</strong> Die Einstellung in den Optionen der Komponente wird verwendet</li>
			<li><strong>VD überschreibt Joomla:</strong> Es wird immer der für diese Domain definierte Template-Style angezeigt.</li>
			<li><strong>VD überschreibt den Startmenupunkt:</strong> Nur die Startseite dieser Domain wird im definierten Template-Style angezeigt.</li>
			<li><strong>Joomlakonfiguration verwenden:</strong> Es wird in allen Fällen der in der Joomla-Konfiguration definierte Template-Style angezeigt.</li>
		</ul>
		
	<h3 id="Preview-Options">Vorschau Optionen<a href="#Preview-Options" class="wiki-anchor">&para;</a></h3>


	<p>Konfiguriere die Größe des Vorschau-Frames. Passe sie, falls notwendig,  an deine Monitoreinstellungen an.</p>


	<ul>
	<li><strong>Frame Breite</strong>: Die Breite des Vorschaufensters</li>
		<li><strong>Frame Höhe</strong>: Die Höhe des Vorschaufensters</li>
	</ul>


	<h2 id="Plugin">Plugin<a href="#Plugin" class="wiki-anchor">&para;</a></h2>


	<h3 id="How-to-Acess-the-Plugin">Zugriff zum Plugin<a href="#How-to-Acess-the-Plugin" class="wiki-anchor">&para;</a></h3>


	<p>Wähle <em>Erweiterungen → Plugin Manager</em> vom Drop-Down-Menu des Joomla-Admin-Panels und filtere nach System Plugins. Der Eintrag <strong>System - Virtualdomains</strong> wird aufgelistet.</p>


	<h3 id="Plugin-Description">Beschreibung<a href="#Plugin-Description" class="wiki-anchor">&para;</a></h3>


	<p>Das VD Plugin überschreibt die Joomla Einstellungen gemäß deinen Definitionen im Virtualdomains Manager wenn die Webseite unter einer der konfigurierten Domains/Subdomains augerufen wird.<br /></p>




<hr />
</div>
<div  class="chapter" id="05-04-Mccoy-quickanddirty">
<a name="05-04-Mccoy-quickanddirty" />
<h1>Quick'n Dirty  Beispiel<a href="#Quickn-Dirty-Example" class="wiki-anchor">&para;</a></h1>


	<h2 id="Introduction">Einführung<a href="#Introduction" class="wiki-anchor">&para;</a></h2>


	<p>Vor allem drei Eigenschaften ändert VD bei den zusätzlichen Domains:</p>


	<ol>
	<li>Das Erscheinungsbild: Der Domain wird ein alternatives Template zugewiesen.</li>
	<li>Die Startseite: Entgegen der Einstellung in der Site-Konfiguration von Joomla wird der Domain ein alternativer Menupunkt als Startseite zugewiesen.</li>
	<li>Für jede Domain existiert eine eigene Zugriffsebene, der der Besucher temporär zugeordnet wird (in der Session). Der Zugriff (in der Regel die Anzeige) auf Elemente kann so für jede Domain geregelt werden.</li>
	</ol>


	<p>Mit wenigen Eingriffen kann unter diesen Voraussetzungen eine komplett unterschiedliche Navigationsstruktur eingerichtet werden.</p>


	<h2 id="Example">Beispiel<a href="#Example" class="wiki-anchor">&para;</a></h2>


	<ol>
	<li>Der Domain main.domain.tld wurde als Startseite der Menupunkt mit dem Namen "Home" und das Template ja_purity zugewiesen. (Sagen wir, der Menüpunkt "Home" befinde sich im Menü "firstmenu").</li>
		<li>Der Domain second.domain.tld wurde der Menüpunkt "News" und das Template 'Beez' zugewiesen. (Sagen wir der Menüpunkt "News" sei die Blogansicht der Kategorie "News" und befinde sich im Menü "secondmenu").</li>
		<li>Wir möchten erreichen, dass unter beiden Domains das Menu "Firma" erscheint. (Sagen wir "Firma" enthielte verschiedene Links, die Informationen über unsere Firma anbieten).</li>
	</ol>


	<h4>Umsetzung (Beispiel)</h4>


	<ol>
	<li>Lege die erforderlichen Menüpunkte im <strong>Menu Manager</strong> an.</li>
		<li>Erstelle im Virtual Domains Manager den Eintrag first.domain.tld speichere und klicke auf das Stern-Symbol in der Spalte <strong>Default Domain</strong>. first.domain.tld wird im in Joomla definierten Standard-Template angezeigt werden.</li>
		<li>Erstelle den Eintrag  second.domain.tld, konfiguriere unterschiedliche Template-Styles und definiere den Menüpunkt "News" als Home-Menüpunkt.</li>
		<li>Erstelle im Joomla Backend unter Extensions → Modules ein Menumodul für jede Domain, weise ihm die gleichnamige Zugriffseben der jeweiligen Domain und eine geeignete Templateposition zu.</li>
	</ol>


	<p>Jede Domain hat nun ein anderes Design und sowohl je ein Menu, das auf separate Inhalte verweist.</p>

<hr />
</div>
<div  class="chapter" id="06-04-Mccoy-restrictions">
<a name="06-04-Mccoy-restrictions" />

<h1>Empfehlungen<a href="#Restrictions-04-Mccoy" class="wiki-anchor">&para;</a></h1>


	<ul>
		<li>Konflikte mit Third-Party-Erweiterungen sind nicht auszuschließen, zumal dann nicht, wenn diese die Joomla-Api umgehen. Daher sollte das  VD-Plugin an der ersten Stelle der System-Plugins positioniert werden.</li>
	</ul>

<hr />
</div>
<div id="Appendix" class="chapter">
<h1>Testumgebung aufsetzen</h1>

<div id="Setup-a-Test-Environment-under-Windows">
<h2>Windows<a href="#Windows" class="wiki-anchor">&para;</a></h2>


	<p>In Arbeit</p>
</div>
<div id="Setup-a-Test-Environment-under-Linux-DebianUbuntu">
<h2>Linux (Debian/Ubuntu)<a href="#Setup-a-Test-Environment-under-Linux-DebianUbuntu" class="wiki-anchor">&para;</a></h2>


	<h3 id="10-Description">Beschreibung<a href="#10-Description" class="wiki-anchor">&para;</a></h3>


	<p>Im Folgenden wird beschrieben, wie du auf deine lokale Joomla Installation über Adressen wie  <strong>http://vhost1.dev</strong>,  <strong>http://vhost2.dev</strong> zugreifen kannst, indem du einige Zeilen in der  /etc/hosts hinzufügst und einen virtuellen Host auf dem Apache Webserver konfigurierst.</p>


	<p>Damit kannst du Virtualdomains auf deinem Rechner lokal  testen.</p>


	<h3 id="Preconditions">Voraussetzungen<a href="#Preconditions" class="wiki-anchor">&para;</a></h3>


	<p>Ein installierter Apache2.</p>


	<h3 id="Enable-the-Resolving-of-the-Domain-Names">Namensauflösung aktivieren<a href="#Enable-the-Resolving-of-the-Domain-Names" class="wiki-anchor">&para;</a></h3>


	<ul>
	<li>Editiere /etc/hosts<br /><pre>sudo nano /etc/hosts</pre></li>
	</ul>


	<ul>
	<li>Unterhalb der Zeile "<code>127.0.0.1    localhost.localdomain    localhost</code>", füge das Folgende hinzu und speichere:<br />  <pre>
127.0.0.1    vhost1.dev    www.vhost1.dev
127.0.0.1    vhost2.dev    www.vhost2.dev
  </pre></li>
		<li>Prüfe das Ergebnis:<br />  <pre>
ping vhost1.dev
  </pre><br />   Antwort:<br />  <pre>
PING vhost1.dev (127.0.0.1) 56(84) bytes of data.
64 bytes from localhost.localdomain (127.0.0.1): icmp_req=1 ttl=64 time=0.022 ms
64 bytes from localhost.localdomain (127.0.0.1): icmp_req=2 ttl=64 time=0.021 ms  
  </pre></li>
	</ul>


	<h3 id="Control-Apache-Settings">Apache Konfiguration prüfen<a href="#Control-Apache-Settings" class="wiki-anchor">&para;</a></h3>


	<p>Stelle sicher, dass die folgenden Einstellungen korrekt sind:</p>


	<ul>
	<li>Öffne /etc/apache2/apache2.conf und stelle sicher, dass das Incude Statement in der letzten Zeile aktiv ist:<br />  <pre>
# Include the virtual host configurations:
Include /etc/apache2/sites-enabled/
  </pre></li>
		<li>Öffne /etc/apache2/ports.conf und prüfe die folgenden Einstellungen:<br />  <pre>
NameVirtualHost *:80
Listen 80
  </pre></li>
	</ul>


	<h3 id="Add-the-virtual-host">Konfiguriere einen virtuellen Host<a href="#Add-the-virtual-host" class="wiki-anchor">&para;</a></h3>


	<ul>
	<li>Kopiere /etc/apache2/sites-available/default:<br />  <pre>
  sudo cp /etc/apache2/sites-available/default /etc/apache2/sites-available/vhost.conf
  </pre></li>
		<li>Passe vhost.conf an:<br />  <pre>
  nano /etc/apache2/sites-available/vhost.conf
  </pre>
	<ul>
	<li> Ersetze den Eintrag für  DocumentRoot mit dem Pfad auf deine Joomla Installation und füge die ServerAliase hinzu:<br />  <pre>
ServerName vhost1.dev
ServerAlias www.vhost1.dev
ServerAlias vhost2.dev www.vhost2.dev 
DocumentRoot /var/www/your-joomla
  </pre></li>
	</ul>
	</li>
		<li>Lege einen symbolischen Link:<br />  <pre>
sudo ln -s /etc/apache2/sites-available/vhost.conf /etc/apache2/sites-enabled/vhost.conf
  </pre></li>
		<li>Lade den Apache Webserver neu:<br />  <pre>
  sudo /etc/init.d/apache2 reload
  </pre></li>
	</ul>


	<p>Nun sollte deine Joomla-Seite angezeigt werden, wenn du <a class="external" href="http://vhost1.dev">http://vhost1.dev</a> oder  <a class="external" href="http://vhost2.dev">http://vhost2.dev</a> in der Adressleiste deines Browsers eingibst.</p>
	
</div>	
<div class="popup" id="Using-Parameters">
<a name="Parameters-more" />
<h1>Parameter verwenden<a href="#Using-Parameters" class="wiki-anchor">&para;</a></h1>


	<h2 id="Description">Beschreibung<a href="#Description" class="wiki-anchor">&para;</a></h2>


	<p>Parameter können eingesetzt werden, um Fallunterscheidungen bezüglich der verschiedenen Domains zu treffen.</p>


	<h2 id="Example">Beispiel<a href="#Example" class="wiki-anchor">&para;</a></h2>


	<p>Wir bitten für die Schlichtheit des folgenden Beispiels um Entschuldigung. Das Ziel könnte sicher auch auf ganz anderen Wegen erreicht werden:</p>


	<p>Angenommen du entschließt dich, ein einziges Template für zwei unterschiedliche Domains einzusetzen, z.B weil die Seiten sich vor allem in der Sprache untercheiden sollen. Zusätzlich sollen aber unterschiedliche Logos angezeigt werden.</p>


	<p>Definiere dazu den Parameter "showlogo" und wähle die Aktion "Request".</p>


	<p>Erfasse auf der Detailseite von  domain first.mydomain.com für "showlogo" den Wert "logo1.png", und für second.mydomain.com den Wert "logo2.png" (Beide Bilder hast du im images-Ordner unterhalb der Joola-Root abgelegt)</p>


	<p>Die Eingabe der Parameter hat den gleichen Effekt, wie das Anhängen des Querys "showlogo=logo1.png" an die URL: <br />http://first.mydomain.com?showlogo=logo1.jpg</a> <em>oder</em> http://first.mydomain.com/about/?showlogo=logo1.jpg .</p>


	<p>Der folgende Code in der index.php des Templates, vervollständigt die Sache:</p>


<pre>
&lt;img src="images/&lt;?php echo JFactory::getVar('showlogo') ?&gt;" /&gt;
</pre>

<hr />
</div>
<div class="popup" id="Server-Aliases">
<a name="ServerAliases" />
<h1>Server Aliase<a href="#Server-Aliases" class="wiki-anchor">&para;</a></h1>


	<p>Wahrscheinlich kannst du deine Website per Browser unter zwei Adressen erreichen:</p>


	<p>Domain: mycompany.com<br />Alias: <a class="external" href="http://www.mycompany.com">www.mycompany.com</a></p>


	<p>Dazu müssen zwei Voraussetzungen erfüllt sein:</p>


	<ol>
	<li>Auf dem Nameserver deines Providers verweist sowohl mycompany.com als auch  www.mycompany.com auf die IP-Adresse des Webservers, auf dem dein Internetangebot liegt.</li>
	</ol>


	<ol>
	<li>Auf dem Webserver ist www.mycompany.com als Alias von mycompany.com konfiguriert.</li>
	</ol>


	<p>Auf die gleiche Weise lassen sich weitere Aliase, wie z.B. www2, anlegen. Das übernimmt entweder dein Provider, oder du kannst die Einstellung selbst über ein Server-Konfigurations-Tool wie <a href="http://en.wikipedia.org" class="external">Plesk</a> vornehmen, soweit verfügbar.<br />
	<em><br /><strong>Anmerkung</strong>:  Alternativ kann auch ein neuer sog. virtueller Host www2.mycompany.com auf dem Webserver angelegt werden, der auf die gleiche Document-Root zeigt. Das Ergebnis ist das gleiche.</em><br />
	<em><br /><strong>Achtung</strong>: VD funktioniert nicht mit einer Domain-Weiterleitung über eine .htaccess-Datei.</em></p>
</div>
</div>
</body>
</html>
